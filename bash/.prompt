#!/bin/bash

tput sgr0
LIGHTRED=$(tput setaf 9)
ORANGE=$(tput setaf 172)
PURPLE=$(tput setaf 141)
WHITE=$(tput setaf 256)
BOLD=$(tput bold)
RESET=$(tput sgr0)
GREEN=$(tput setaf 10)
CYAN=$(tput setaf 6)

function git_info() {
	# check if we're in a git repo
	git rev-parse --is-inside-work-tree &>/dev/null || return
	# quickest check for what branch we're on
	branch=$(git symbolic-ref -q HEAD | sed -e 's|^refs/heads/||')
	echo "git:("$branch")"
}

function git_dirty() {
# check if we're in a git repo
	git rev-parse --is-inside-work-tree &>/dev/null || return
	# check if it's dirty (via github.com/sindresorhus/pure)
	dirty=$(git diff --quiet --ignore-submodules HEAD &>/dev/null; [ $? -eq 1 ]&& echo -e "✗")
	echo " "$dirty
}

PS1="\[\$BOLD\]\[\$GREEN\]➜  \[\$CYAN\]\W \[\$LIGHTRED\]\$(git_info)\[\$PURPLE\]\$(git_dirty)\[\$RESET\] "